<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
		integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<title>User</title>
</head>

<body>
	<section class="container">
		<h1>Register</h1>
		<hr>
		<form>
			<div class="form-group row">
				<label for="userName" class="col-sm-2 col-form-label">User Name</label>
				<div class="col-sm-10">
					<input type="text" class="form-control" id="userName">
        </div>
				</div>
				<div class="form-group row">
					<label for="email" class="col-sm-2 col-form-label">Email</label>
					<div class="col-sm-10">
						<input type="email" class="form-control" id="email">
        </div>
					</div>
					<div class="form-group row">
						<label for="password" class="col-sm-2 col-form-label">Password</label>
						<div class="col-sm-10">
							<input type="password" class="form-control" id="password">
          </div>
						</div>
						<div class="col-sm-10">
							<!-- <button` type="submit" class="btn btn-primary">Register</button> -->
							<button id="save" type="button" class="btn btn-primary">Register</button>
							<button id="get" type="button" class="btn btn-primary">Get</button>
							<button id="clear" type="button" class="btn btn-primary">Clear Storage</button>
							<button id="clear" onclick="show()" type="button" class="btn btn-primary">Show Test</button>
						</div>
					</div>
		</form>

	</section>
	<script>
		//https://getbootstrap.com/docs/4.4/components/forms/
let currentID = 0;
let Users = []
function nextUserId() {
  currentID++;
  return currentID;
}


// user class
function User(currentID , username , email , password ) {
  this.userid = currentID;
  this.username = username;
  this.email = email;
  this.password = password;
}

User.prototype.show = function()  {
  return `(user ID: ${this.userid}) name: ${this.username} password: ${this.password}`
}

window.onload = () => {
  document.querySelector('#save').addEventListener('click' , SaveUser);
  document.querySelector('#get').addEventListener('click' , getUser);  
  document.querySelector('#clear').addEventListener('click' , clearAll);   
  alert("ok") 
}

function SaveUser() {
  let user = new User(nextUserId(), 'aaaa', 'bbbbb', 'pass')
  Users.push(user);
  //window.localStorage.setItem(user.userid , JSON.stringify(user))
}
                      
function getUser() {
  //let row = window.localStorage.getItem(currentID)
 // let item = JSON.parse(row)
 // let user = new User()
  alert(Users[0].show())
}

function clearAll() {
        let user = window.localStorage.clear();
}

exports.show = function() {
  alert('ok');
}


                      
	</script>

</body>

</html>